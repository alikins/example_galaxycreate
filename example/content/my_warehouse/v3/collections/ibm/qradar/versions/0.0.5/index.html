<h1>IBM QRadar Ansible Collection</h1>
<h2>Tech Preview</h2>
<p>This is the <a href="https://docs.ansible.com/ansible/latest/dev_guide/developing_collections.html">Ansible
Collection</a>
provided by the <a href="https://github.com/ansible-security">Ansible Security Automation
Team</a> for automating actions in <a href="https://www.ibm.com/us-en/marketplace/ibm-qradar-siem">IBM
QRadar SIEM</a>.</p>
<p>This Collection is meant for distribution via
<a href="https://galaxy.ansible.com/">Ansible Galaxy</a> as is available for all
<a href="https://github.com/ansible/ansible">Ansible</a> users to utilize, contribute to,
and provide feedback about.</p>
<h3>Using IBM QRadar Ansible Collection</h3>
<p>An example for using this collection to manage a log source with <a href="https://www.ibm.com/security/security-intelligence/qradar">IBM QRadar</a> is as follows.</p>
<p><code>inventory.ini</code> (Note the password should be managed by a <a href="https://docs.ansible.com/ansible/latest/user_guide/vault.html">Vault</a> for a production environment.</p>
<pre><code>[qradar]
qradar.example.com

[qradar:vars]
ansible_network_os=ibm.qradar.qradar
ansible_user=admin
ansible_httpapi_pass=SuperSekretPassword
ansible_httpapi_use_ssl=yes
ansible_httpapi_validate_certs=yes
ansible_connection=httpapi
</code></pre>

<h4>Using the modules with Fully Qualified Collection Name (FQCN)</h4>
<p>With <a href="https://docs.ansible.com/ansible/latest/dev_guide/developing_collections.html">Ansible
Collections</a>
there are various ways to utilize them either by calling specific Content from
the Collection, such as a module, by it's Fully Qualified Collection Name (FQCN)
as we'll show in this example or by defining a Collection Search Path as the
examples below will display.</p>
<p><code>qradar_with_collections_example.yml</code></p>
<pre><code>---
- name: Testing URI manipulation of QRadar with FQCN
  hosts: qradar
  gather_facts: false
  tasks:
    - name: create log source
      ibm.qradar.qradar_log_source_management:
        name: &quot;Ansible Collections Example Log Source&quot;
        type_name: &quot;Linux OS&quot;
        state: present
        description: &quot;Ansible Collections Example Log Source Description&quot;
</code></pre>

<h4>Define your collection search path at the Play level</h4>
<p>Below we specify our collection at the
<a href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_intro.html">Play</a>
level which allows us to use the <code>qradar_log_source_management</code> module without
the need for the FQCN for each task.</p>
<p><code>qradar_with_collections_example.yml</code></p>
<pre><code>---
- name: Testing URI manipulation of QRadar
  hosts: qradar
  gather_facts: false
  collections:
    - ibm.qradar
  tasks:
    - name: create log source
      qradar_log_source_management:
        name: &quot;Ansible Collections Example Log Source&quot;
        type_name: &quot;Linux OS&quot;
        state: present
        description: &quot;Ansible Collections Example Log Source Description&quot;
</code></pre>

<h4>Define your collection search path at the Block level</h4>
<p>Another option for Collection use is below. Here we use the
<a href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_blocks.html"><code>block</code></a>
level keyword instead of <a href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_intro.html">Play</a>
level as with the previous example. In this scenario we are able to use the
<code>qradar_log_source_management</code> module without the need for the FQCN for each
task but with an optionally more specific scope of Collection Search Path than
specifying at the Play level.</p>
<p><code>qradar_with_collections_block_example.yml</code></p>
<pre><code>---
- name: Testing URI manipulation of QRadar
  hosts: qradar
  gather_facts: false
  tasks:
    - name: collection namespace block
      block:
        - name: create log source
          qradar_log_source_management:
            name: &quot;Ansible Collections Example Log Source&quot;
            type_name: &quot;Linux OS&quot;
            state: present
            description: &quot;Ansible Collections Example Log Source Description&quot;
      collections:
        - ibm.qradar
</code></pre>

<h3>Directory Structure</h3>
<ul>
<li><code>docs/</code>: local documentation for the collection</li>
<li><code>license.txt</code>: optional copy of license(s) for this collection</li>
<li><code>galaxy.yml</code>: source data for the MANIFEST.json that will be part of the collection package</li>
<li><code>playbooks/</code>: playbooks reside here</li>
<li><code>tasks/</code>: this holds 'task list files' for <code>include_tasks</code>/<code>import_tasks</code> usage</li>
<li><code>plugins/</code>: all ansible plugins and modules go here, each in its own subdir</li>
<li><code>modules/</code>: ansible modules</li>
<li><code>lookups/</code>: lookup plugins</li>
<li><code>filters/</code>: Jinja2 filter plugins</li>
<li>... rest of plugins</li>
<li><code>README.md</code>: information file (this file)</li>
<li><code>roles/</code>: directory for ansible roles</li>
<li><code>tests/</code>: tests for the collection's content</li>
</ul>